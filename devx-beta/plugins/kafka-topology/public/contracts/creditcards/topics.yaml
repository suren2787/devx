
# Credit Cards Pipeline Pattern - Sequential Event Processing
# Flow: Application → Approval → Issuance → Activation → Usage → Management

- name: card-application-submitted
  partitions: 3
  producers:
    - ApplicationService
  consumers:
    - CardApprovalService

- name: card-approval-completed
  partitions: 3
  producers:
    - CardApprovalService
  consumers:
    - CardIssuanceService

- name: card-issued
  partitions: 6
  producers:
    - CardIssuanceService
  consumers:
    - NotificationService
    - CardActivationService

- name: card-activated
  partitions: 6
  producers:
    - CardActivationService
  consumers:
    - FraudDetectionService
    - CardUsageService

- name: card-transaction-processed
  partitions: 12
  producers:
    - CardUsageService
  consumers:
    - FraudDetectionService
    - BillingService

- name: fraud-detected
  partitions: 6
  producers:
    - FraudDetectionService
  consumers:
    - CardBlockingService
    - NotificationService

- name: card-blocked
  partitions: 3
  producers:
    - CardBlockingService
  consumers:
    - NotificationService
    - CustomerService

- name: billing-generated
  partitions: 12
  producers:
    - BillingService
  consumers:
    - PaymentService
    - StatementService

- name: payment-received
  partitions: 6
  producers:
    - PaymentService
  consumers:
    - AccountingService
    - RewardService

- name: statement-generated
  partitions: 3
  producers:
    - StatementService
  consumers:
    - NotificationService
    - ArchiveService
 
